<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aroma - Productos Químicos y Cosméticos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="js/menu.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .logo {
            font-weight: 700;
            background: linear-gradient(90deg, #84cc16 0%, #facc15 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Estilos personalizados */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .accordion.active .accordion-content {
            max-height: 1000px;
            transition: max-height 0.5s ease-in;
        }
        
        .payment-method {
            transition: all 0.3s ease;
        }
        
        .payment-method:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 100, 0, 0.1);
        }
        
        .payment-method.selected {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        
        /* Estilo para el input de tarjeta */
        .card-input {
            letter-spacing: 1px;
        }
        
        /* Animación para los botones */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .btn-pulse:hover {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body class="bg-white">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white shadow-sm">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <div class="flex items-center space-x-2">
                 <img src="style/icono.png" alt="Logo" class="w-10 h-10 rounded-full" />
                <h1 class="text-2xl font-bold logo">Aroma de vida<span> JD</span></h1>
        </div>
                
                <!-- Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-green-600 font-medium transition">Inicio</a>
                    <a href="productos.html" class="text-gray-700 hover:text-green-600 font-medium transition">Productos</a>
                    <a href="nosotros.html" class="text-gray-700 hover:text-green-600 font-medium transition">Nosotros</a>
                    <a href="contacto.html" class="text-gray-700 hover:text-green-600 font-medium transition">Contacto</a>
                </nav>
                
                <!-- Mobile menu button -->
                <button class="md:hidden text-gray-700 focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
<!-- Mobile menu -->
<div id="mobile-menu" class="md:hidden hidden flex-col space-y-4 mt-4 bg-white px-4 py-3 shadow rounded-lg absolute right-4 top-16 z-40">
    <a href="index.html" class="block text-gray-700 hover:text-green-600 font-medium transition">Inicio</a>
    <a href="productos.html" class="block text-gray-700 hover:text-green-600 font-medium transition">Productos</a>
    <a href="nosotros.html" class="block text-gray-700 hover:text-green-600 font-medium transition">Nosotros</a>
    <a href="contacto.html" class="block text-gray-700 hover:text-green-600 font-medium transition">Contacto</a>
</div>

            </div>
        </div>
    </header>

<body class="bg-green-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-green-800 mb-2">Finaliza tu compra</h1>
            <p class="text-green-600">Completa los siguientes pasos para completar tu pedido</p>
        </div>
        
        <!-- Progreso -->
        <div class="flex justify-between items-center mb-8 relative">
            <div class="flex-1 h-1 bg-green-200 absolute top-1/2 left-0 right-0 -translate-y-1/2 -z-10"></div>
            <div class="step flex flex-col items-center relative" data-step="1">
                <div class="w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center mb-2">1</div>
                <span class="text-sm font-medium text-green-800">Identificación</span>
            </div>
            <div class="step flex flex-col items-center relative" data-step="2">
                <div class="w-8 h-8 rounded-full bg-green-200 text-green-800 flex items-center justify-center mb-2">2</div>
                <span class="text-sm font-medium text-green-600">Envío</span>
            </div>
            <div class="step flex flex-col items-center relative" data-step="3">
                <div class="w-8 h-8 rounded-full bg-green-200 text-green-800 flex items-center justify-center mb-2">3</div>
                <span class="text-sm font-medium text-green-600">Pago</span>
            </div>
        </div>
        
        <!-- Formulario -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-8">
            <!-- Acordeón 1: Identificación -->
            <div class="accordion border-b border-green-100 active">
                <button class="accordion-btn w-full px-6 py-4 text-left bg-green-600 text-white font-semibold flex justify-between items-center">
                    <span class="flex items-center">
                        <i class="fas fa-user-circle mr-3"></i>
                        <span>Identificación</span>
                    </span>
                    <i class="fas fa-chevron-down transform transition-transform duration-300"></i>
                </button>
                <div class="accordion-content px-6 py-4">
                    <form id="identification-form">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="email" class="block text-sm font-medium text-green-700 mb-1">Correo electrónico*</label>
                                <input type="email" id="email" name="email" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                            </div>
                            <div>
                                <label for="mobile" class="block text-sm font-medium text-green-700 mb-1">Teléfono móvil*</label>
                                <input type="tel" id="mobile" name="mobile" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="first-name" class="block text-sm font-medium text-green-700 mb-1">Nombre*</label>
                                <input type="text" id="first-name" name="first-name" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                            </div>
                            <div>
                                <label for="last-name" class="block text-sm font-medium text-green-700 mb-1">Apellidos*</label>
                                <input type="text" id="last-name" name="last-name" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="id-number" class="block text-sm font-medium text-green-700 mb-1">Cédula de ciudadanía*</label>
                            <input type="text" id="id-number" name="id-number" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                        </div>
                        
                        <div class="flex justify-end">
                            <button type="button" class="next-step btn-pulse px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition" data-next="2">
                                Siguiente <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Acordeón 2: Envío -->
            <div class="accordion border-b border-green-100">
                <button class="accordion-btn w-full px-6 py-4 text-left bg-green-200 text-green-800 font-semibold flex justify-between items-center">
                    <span class="flex items-center">
                        <i class="fas fa-truck mr-3"></i>
                        <span>Envío</span>
                    </span>
                    <i class="fas fa-chevron-down transform transition-transform duration-300"></i>
                </button>
                <div class="accordion-content px-6 py-4">
                    <form id="shipping-form">
                        <div class="mb-4">
                            <label for="address" class="block text-sm font-medium text-green-700 mb-1">Dirección*</label>
                            <input type="text" id="address" name="address" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="department" class="block text-sm font-medium text-green-700 mb-1">Departamento*</label>
                                <!-- AQUÍ DEBES LLENAR LOS DEPARTAMENTOS -->
                                <select id="department" name="department" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                    <option value="">Selecciona un departamento</option>
                                    <option value="antioquia">Antioquia</option>
                                    <option value="bogota">Bogotá D.C.</option>
                                    <option value="valle">Valle del Cauca</option>
                                    <option value="santander">Santander</option>
                                    <option value="atlantico">Atlántico</option>
                                    <!-- Agrega más departamentos según sea necesario -->
                                </select>
                            </div>
                            <div>
                                <label for="municipality" class="block text-sm font-medium text-green-700 mb-1">Municipio*</label>
                                <!-- AQUÍ DEBES LLENAR LOS MUNICIPIOS SEGÚN EL DEPARTAMENTO SELECCIONADO -->
                                <select id="municipality" name="municipality" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                    <option value="">Selecciona un municipio</option>
                                    <!-- Los municipios se llenarán dinámicamente con JavaScript -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="locality" class="block text-sm font-medium text-green-700 mb-1">Localidad/Barrio*</label>
                            <input type="text" id="locality" name="locality" required class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                        </div>
                        
                        <div class="flex justify-between">
                            <button type="button" class="prev-step px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition" data-prev="1">
                                <i class="fas fa-arrow-left mr-2"></i> Anterior
                            </button>
                            <button type="button" class="next-step btn-pulse px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition" data-next="3">
                                Siguiente <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Acordeón 3: Pago -->
            <div class="accordion">
                <button class="accordion-btn w-full px-6 py-4 text-left bg-green-200 text-green-800 font-semibold flex justify-between items-center">
                    <span class="flex items-center">
                        <i class="fas fa-credit-card mr-3"></i>
                        <span>Pago</span>
                    </span>
                    <i class="fas fa-chevron-down transform transition-transform duration-300"></i>
                </button>
                <div class="accordion-content px-6 py-4">
                    <form id="payment-form">
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-green-800 mb-4">Selecciona tu método de pago</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                <!-- Tarjeta de crédito -->
                                <div class="payment-method p-4 border-2 border-green-200 rounded-lg cursor-pointer" data-method="credit-card">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-credit-card text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-green-800">Tarjeta de crédito</span>
                                    </div>
                                </div>
                                
                                <!-- Tarjeta de débito -->
                                <div class="payment-method p-4 border-2 border-green-200 rounded-lg cursor-pointer" data-method="debit-card">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-credit-card text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-green-800">Tarjeta de débito</span>
                                    </div>
                                </div>
                                
                                <!-- Transferencia bancaria -->
                                <div class="payment-method p-4 border-2 border-green-200 rounded-lg cursor-pointer" data-method="bank-transfer">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-university text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-green-800">Transferencia</span>
                                    </div>
                                </div>
                                
                                <!-- Nequi -->
                                <div class="payment-method p-4 border-2 border-green-200 rounded-lg cursor-pointer" data-method="nequi">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-mobile-alt text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-green-800">Nequi</span>
                                    </div>
                                </div>
                                
                                <!-- Daviplata -->
                                <div class="payment-method p-4 border-2 border-green-200 rounded-lg cursor-pointer" data-method="daviplata">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-wallet text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-green-800">Daviplata</span>
                                    </div>
                                </div>
                                
                                <!-- Efectivo -->
                                <div class="payment-method p-4 border-2 border-green-200 rounded-lg cursor-pointer" data-method="cash">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-money-bill-wave text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-green-800">Efectivo</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Formulario de tarjeta (se muestra solo cuando se selecciona tarjeta) -->
                            <div id="card-form" class="hidden">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label for="card-number" class="block text-sm font-medium text-green-700 mb-1">Número de tarjeta*</label>
                                        <input type="text" id="card-number" name="card-number" placeholder="1234 5678 9012 3456" class="card-input w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                    </div>
                                    <div>
                                        <label for="card-name" class="block text-sm font-medium text-green-700 mb-1">Nombre en la tarjeta*</label>
                                        <input type="text" id="card-name" name="card-name" placeholder="JUAN PEREZ" class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                    <div>
                                        <label for="card-expiry" class="block text-sm font-medium text-green-700 mb-1">Fecha de expiración*</label>
                                        <input type="text" id="card-expiry" name="card-expiry" placeholder="MM/AA" class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                    </div>
                                    <div>
                                        <label for="card-cvv" class="block text-sm font-medium text-green-700 mb-1">CVV*</label>
                                        <input type="text" id="card-cvv" name="card-cvv" placeholder="123" class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                    </div>
                                    <div class="flex items-end">
                                        <div class="flex space-x-2">
                                            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/visa/visa-original.svg" class="h-8" alt="Visa">
                                            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mastercard/mastercard-original.svg" class="h-8" alt="Mastercard">
                                            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/americanexpress/americanexpress-original.svg" class="h-8" alt="American Express">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Formulario de transferencia (se muestra solo cuando se selecciona transferencia) -->
                            <div id="transfer-form" class="hidden">
                                <div class="mb-4">
                                    <p class="text-sm text-green-700 mb-2">Realiza la transferencia a nuestra cuenta bancaria:</p>
                                    <div class="bg-green-50 p-4 rounded-lg">
                                        <p class="font-medium text-green-800">Banco: Banco de Bogotá</p>
                                        <p class="font-medium text-green-800">Tipo de cuenta: Cuenta corriente</p>
                                        <p class="font-medium text-green-800">Número de cuenta: 123-456789-00</p>
                                        <p class="font-medium text-green-800">Titular: Mi Empresa S.A.S.</p>
                                        <p class="font-medium text-green-800">NIT: 123.456.789-0</p>
                                    </div>
                                    <p class="text-sm text-green-600 mt-2">Por favor envía el comprobante de pago al correo pagos@miempresa.com</p>
                                </div>
                            </div>
                            
                            <!-- Formulario de Nequi/Daviplata -->
                            <div id="mobile-payment-form" class="hidden">
                                <div class="mb-4">
                                    <label for="mobile-number" class="block text-sm font-medium text-green-700 mb-1">Número de teléfono*</label>
                                    <input type="tel" id="mobile-number" name="mobile-number" class="w-full px-4 py-2 rounded-lg border border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition">
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <p class="font-medium text-green-800">Realiza el pago al número: 310 123 4567</p>
                                    <p class="text-sm text-green-600 mt-1">Por favor envía el comprobante de pago al correo pagos@miempresa.com</p>
                                </div>
                            </div>
                            
                            <!-- Formulario de efectivo -->
                            <div id="cash-form" class="hidden">
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <p class="font-medium text-green-800">Puedes pagar en efectivo al momento de recibir tu pedido</p>
                                    <p class="text-sm text-green-600 mt-1">El cobro se realizará al momento de la entrega</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between">
                            <button type="button" class="prev-step px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition" data-prev="2">
                                <i class="fas fa-arrow-left mr-2"></i> Anterior
                            </button>
                            <button type="submit" class="btn-pulse px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition">
                                Confirmar pago <i class="fas fa-lock ml-2"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Resumen del pedido -->
        <div class="bg-white rounded-xl shadow-lg p-6">
            <h3 class="text-lg font-semibold text-green-800 mb-4">Resumen de tu pedido</h3>
            
            <div class="border-b border-green-100 pb-4 mb-4">
                <div class="flex justify-between mb-2">
                    <span class="text-green-700">Subtotal (3 productos)</span>
                    <span class="font-medium">$150.000</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="text-green-700">Envío</span>
                    <span class="font-medium">$10.000</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="text-green-700">Descuento</span>
                    <span class="font-medium text-green-600">-$5.000</span>
                </div>
            </div>
            
            <div class="flex justify-between text-lg font-bold text-green-800">
                <span>Total</span>
                <span>$155.000</span>
            </div>
        </div>
    </div>

    <script>
        // Acordeón funcionalidad
        document.querySelectorAll('.accordion-btn').forEach(button => {
            button.addEventListener('click', () => {
                const accordion = button.parentElement;
                const isActive = accordion.classList.contains('active');
                
                // Cerrar todos los acordeones primero
                document.querySelectorAll('.accordion').forEach(item => {
                    item.classList.remove('active');
                    const content = item.querySelector('.accordion-content');
                    const icon = item.querySelector('.accordion-btn i.fa-chevron-down');
                    
                    content.style.maxHeight = '0';
                    icon.classList.remove('rotate-180');
                    item.querySelector('.accordion-btn').classList.remove('bg-green-600', 'text-white');
                    item.querySelector('.accordion-btn').classList.add('bg-green-200', 'text-green-800');
                });
                
                // Abrir el acordeón clickeado si no estaba activo
                if (!isActive) {
                    accordion.classList.add('active');
                    const content = accordion.querySelector('.accordion-content');
                    const icon = accordion.querySelector('.accordion-btn i.fa-chevron-down');
                    
                    content.style.maxHeight = content.scrollHeight + 'px';
                    icon.classList.add('rotate-180');
                    button.classList.remove('bg-green-200', 'text-green-800');
                    button.classList.add('bg-green-600', 'text-white');
                }
            });
        });
        
        // Abrir el primer acordeón por defecto
        document.querySelector('.accordion.active .accordion-content').style.maxHeight = document.querySelector('.accordion.active .accordion-content').scrollHeight + 'px';
        document.querySelector('.accordion.active .accordion-btn i.fa-chevron-down').classList.add('rotate-180');
        
        // Navegación entre pasos
        document.querySelectorAll('.next-step').forEach(button => {
            button.addEventListener('click', () => {
                const nextStep = button.getAttribute('data-next');
                
                // Validar formulario antes de avanzar
                let isValid = true;
                const currentAccordion = button.closest('.accordion');
                
                if (nextStep === '2') {
                    // Validar formulario de identificación
                    const form = document.getElementById('identification-form');
                    const requiredInputs = form.querySelectorAll('[required]');
                    
                    requiredInputs.forEach(input => {
                        if (!input.value.trim()) {
                            isValid = false;
                            input.classList.add('border-red-500');
                            input.nextElementSibling?.classList.remove('hidden');
                        } else {
                            input.classList.remove('border-red-500');
                            input.nextElementSibling?.classList.add('hidden');
                        }
                    });
                } else if (nextStep === '3') {
                    // Validar formulario de envío
                    const form = document.getElementById('shipping-form');
                    const requiredInputs = form.querySelectorAll('[required]');
                    
                    requiredInputs.forEach(input => {
                        if (!input.value.trim()) {
                            isValid = false;
                            input.classList.add('border-red-500');
                            input.nextElementSibling?.classList.remove('hidden');
                        } else {
                            input.classList.remove('border-red-500');
                            input.nextElementSibling?.classList.add('hidden');
                        }
                    });
                }
                
                if (isValid) {
                    // Actualizar progreso
                    document.querySelectorAll('.step').forEach(step => {
                        const stepNumber = step.getAttribute('data-step');
                        const circle = step.querySelector('div');
                        
                        if (parseInt(stepNumber) < parseInt(nextStep)) {
                            circle.classList.remove('bg-green-200', 'text-green-800');
                            circle.classList.add('bg-green-600', 'text-white');
                            step.querySelector('span').classList.add('text-green-800');
                            step.querySelector('span').classList.remove('text-green-600');
                        } else if (parseInt(stepNumber) > parseInt(nextStep)) {
                            circle.classList.add('bg-green-200', 'text-green-800');
                            circle.classList.remove('bg-green-600', 'text-white');
                            step.querySelector('span').classList.remove('text-green-800');
                            step.querySelector('span').classList.add('text-green-600');
                        }
                    });
                    
                    // Cerrar acordeón actual y abrir el siguiente
                    currentAccordion.classList.remove('active');
                    currentAccordion.querySelector('.accordion-content').style.maxHeight = '0';
                    currentAccordion.querySelector('.accordion-btn i.fa-chevron-down').classList.remove('rotate-180');
                    currentAccordion.querySelector('.accordion-btn').classList.remove('bg-green-600', 'text-white');
                    currentAccordion.querySelector('.accordion-btn').classList.add('bg-green-200', 'text-green-800');
                    
                    const nextAccordion = document.querySelector(`.accordion:nth-child(${nextStep})`);
                    nextAccordion.classList.add('active');
                    nextAccordion.querySelector('.accordion-content').style.maxHeight = nextAccordion.querySelector('.accordion-content').scrollHeight + 'px';
                    nextAccordion.querySelector('.accordion-btn i.fa-chevron-down').classList.add('rotate-180');
                    nextAccordion.querySelector('.accordion-btn').classList.remove('bg-green-200', 'text-green-800');
                    nextAccordion.querySelector('.accordion-btn').classList.add('bg-green-600', 'text-white');
                    
                    // Desplazar la vista al siguiente acordeón
                    nextAccordion.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
        
        // Botón anterior
        document.querySelectorAll('.prev-step').forEach(button => {
            button.addEventListener('click', () => {
                const prevStep = button.getAttribute('data-prev');
                const currentAccordion = button.closest('.accordion');
                
                // Actualizar progreso
                document.querySelectorAll('.step').forEach(step => {
                    const stepNumber = step.getAttribute('data-step');
                    const circle = step.querySelector('div');
                    
                    if (parseInt(stepNumber) <= parseInt(prevStep)) {
                        circle.classList.remove('bg-green-200', 'text-green-800');
                        circle.classList.add('bg-green-600', 'text-white');
                        step.querySelector('span').classList.add('text-green-800');
                        step.querySelector('span').classList.remove('text-green-600');
                    } else {
                        circle.classList.add('bg-green-200', 'text-green-800');
                        circle.classList.remove('bg-green-600', 'text-white');
                        step.querySelector('span').classList.remove('text-green-800');
                        step.querySelector('span').classList.add('text-green-600');
                    }
                });
                
                // Cerrar acordeón actual y abrir el anterior
                currentAccordion.classList.remove('active');
                currentAccordion.querySelector('.accordion-content').style.maxHeight = '0';
                currentAccordion.querySelector('.accordion-btn i.fa-chevron-down').classList.remove('rotate-180');
                currentAccordion.querySelector('.accordion-btn').classList.remove('bg-green-600', 'text-white');
                currentAccordion.querySelector('.accordion-btn').classList.add('bg-green-200', 'text-green-800');
                
                const prevAccordion = document.querySelector(`.accordion:nth-child(${prevStep})`);
                prevAccordion.classList.add('active');
                prevAccordion.querySelector('.accordion-content').style.maxHeight = prevAccordion.querySelector('.accordion-content').scrollHeight + 'px';
                prevAccordion.querySelector('.accordion-btn i.fa-chevron-down').classList.add('rotate-180');
                prevAccordion.querySelector('.accordion-btn').classList.remove('bg-green-200', 'text-green-800');
                prevAccordion.querySelector('.accordion-btn').classList.add('bg-green-600', 'text-white');
                
                // Desplazar la vista al acordeón anterior
                prevAccordion.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
        
        // Selección de método de pago
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', () => {
                // Remover selección de todos los métodos
                document.querySelectorAll('.payment-method').forEach(m => {
                    m.classList.remove('selected');
                    m.classList.remove('border-green-500');
                    m.classList.add('border-green-200');
                });
                
                // Seleccionar el método clickeado
                method.classList.add('selected', 'border-green-500');
                method.classList.remove('border-green-200');
                
                // Ocultar todos los formularios de pago
                document.querySelectorAll('#card-form, #transfer-form, #mobile-payment-form, #cash-form').forEach(form => {
                    form.classList.add('hidden');
                });
                
                // Mostrar el formulario correspondiente
                const paymentMethod = method.getAttribute('data-method');
                
                if (paymentMethod === 'credit-card' || paymentMethod === 'debit-card') {
                    document.getElementById('card-form').classList.remove('hidden');
                } else if (paymentMethod === 'bank-transfer') {
                    document.getElementById('transfer-form').classList.remove('hidden');
                } else if (paymentMethod === 'nequi' || paymentMethod === 'daviplata') {
                    document.getElementById('mobile-payment-form').classList.remove('hidden');
                } else if (paymentMethod === 'cash') {
                    document.getElementById('cash-form').classList.remove('hidden');
                }
            });
        });
        
        // Formatear número de tarjeta
        const cardNumberInput = document.getElementById('card-number');
        if (cardNumberInput) {
            cardNumberInput.addEventListener('input', (e) => {
                let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                let formatted = value.replace(/(\d{4})/g, '$1 ').trim();
                e.target.value = formatted;
            });
        }
        
        // Formatear fecha de expiración
        const cardExpiryInput = document.getElementById('card-expiry');
        if (cardExpiryInput) {
            cardExpiryInput.addEventListener('input', (e) => {
                let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                if (value.length > 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value;
            });
        }
        
        // Formatear CVV (solo números, máximo 4 dígitos)
        const cardCvvInput = document.getElementById('card-cvv');
        if (cardCvvInput) {
            cardCvvInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/gi, '').substring(0, 4);
            });
        }
        
        // Formatear número de teléfono
        const mobileNumberInput = document.getElementById('mobile-number');
        if (mobileNumberInput) {
            mobileNumberInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/gi, '').substring(0, 10);
            });
        }
        
        // Simular datos de municipios basados en departamento
        const departmentSelect = document.getElementById('department');
        const municipalitySelect = document.getElementById('municipality');
        
        if (departmentSelect && municipalitySelect) {
            departmentSelect.addEventListener('change', (e) => {
                // Limpiar select de municipios
                municipalitySelect.innerHTML = '<option value="">Selecciona un municipio</option>';
                
                // AQUÍ DEBES LLENAR LOS MUNICIPIOS SEGÚN EL DEPARTAMENTO SELECCIONADO
                // Este es un ejemplo con datos ficticios
                const departments = {
                    'antioquia': ['Medellín', 'Envigado', 'Sabaneta', 'Itagüí', 'Bello'],
                    'bogota': ['Bogotá D.C.'],
                    'valle': ['Cali', 'Palmira', 'Buga', 'Tuluá', 'Jamundí'],
                    'santander': ['Bucaramanga', 'Floridablanca', 'Girón', 'Piedecuesta'],
                    'atlantico': ['Barranquilla', 'Soledad', 'Malambo', 'Puerto Colombia']
                };
                
                const selectedDepartment = e.target.value;
                if (selectedDepartment && departments[selectedDepartment]) {
                    departments[selectedDepartment].forEach(municipality => {
                        const option = document.createElement('option');
                        option.value = municipality.toLowerCase().replace(' ', '-');
                        option.textContent = municipality;
                        municipalitySelect.appendChild(option);
                    });
                }
            });
        }
        
        // Enviar formulario de pago
        const paymentForm = document.getElementById('payment-form');
        if (paymentForm) {
            paymentForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // Validar que se haya seleccionado un método de pago
                const selectedMethod = document.querySelector('.payment-method.selected');
                if (!selectedMethod) {
                    alert('Por favor selecciona un método de pago');
                    return;
                }
                
                // Validar formulario según el método seleccionado
                const method = selectedMethod.getAttribute('data-method');
                let isValid = true;
                
                if (method === 'credit-card' || method === 'debit-card') {
                    const cardNumber = document.getElementById('card-number').value.replace(/\s+/g, '');
                    const cardName = document.getElementById('card-name').value.trim();
                    const cardExpiry = document.getElementById('card-expiry').value.trim();
                    const cardCvv = document.getElementById('card-cvv').value.trim();
                    
                    if (!cardNumber || cardNumber.length < 16) {
                        isValid = false;
                        document.getElementById('card-number').classList.add('border-red-500');
                    } else {
                        document.getElementById('card-number').classList.remove('border-red-500');
                    }
                    
                    if (!cardName) {
                        isValid = false;
                        document.getElementById('card-name').classList.add('border-red-500');
                    } else {
                        document.getElementById('card-name').classList.remove('border-red-500');
                    }
                    
                    if (!cardExpiry || !cardExpiry.match(/^\d{2}\/\d{2}$/)) {
                        isValid = false;
                        document.getElementById('card-expiry').classList.add('border-red-500');
                    } else {
                        document.getElementById('card-expiry').classList.remove('border-red-500');
                    }
                    
                    if (!cardCvv || cardCvv.length < 3) {
                        isValid = false;
                        document.getElementById('card-cvv').classList.add('border-red-500');
                    } else {
                        document.getElementById('card-cvv').classList.remove('border-red-500');
                    }
                } else if (method === 'nequi' || method === 'daviplata') {
                    const mobileNumber = document.getElementById('mobile-number').value.trim();
                    
                    if (!mobileNumber || mobileNumber.length < 10) {
                        isValid = false;
                        document.getElementById('mobile-number').classList.add('border-red-500');
                    } else {
                        document.getElementById('mobile-number').classList.remove('border-red-500');
                    }
                }
                
                if (isValid) {
                    // Simular envío del formulario
                    alert('¡Pago realizado con éxito! Gracias por tu compra.');
                    // Aquí normalmente redirigirías a una página de confirmación o reiniciarías el formulario
                    paymentForm.reset();
                    document.querySelectorAll('.payment-method').forEach(m => {
                        m.classList.remove('selected');
                        m.classList.remove('border-green-500');
                        m.classList.add('border-green-200');
                    });
                    document.querySelectorAll('#card-form, #transfer-form, #mobile-payment-form, #cash-form').forEach(form => {
                        form.classList.add('hidden');
                    });
                } else {
                    alert('Por favor completa todos los campos requeridos correctamente.');
                }
            });
        }
    </script>

    
    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Logo and info -->
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-yellow-400 flex items-center justify-center">
                            <span class="text-white font-bold text-sm">FV</span>
                        </div>
                        <h3 class="text-xl font-bold logo">Aroma de vida<span> JD</span></h3>
                    </div>
                    <p class="text-gray-400 mb-4">Soluciones químicas y cosméticas innovadoras para un mundo más limpio y saludable.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/doqiriver/" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-bold mb-4">Enlaces Rápidos</h4>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition">Inicio</a></li>
                        <li><a href="productos.html" class="text-gray-400 hover:text-white transition">Productos</a></li>
                        <li><a href="nosotros.html" class="text-gray-400 hover:text-white transition">Sobre Nosotros</a></li>
                        <li><a href="contacto.html" class="text-gray-400 hover:text-white transition">Contacto</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Blog</a></li>
                    </ul>
                </div>
                
                <!-- Products -->
                <div>
                    <h4 class="text-lg font-bold mb-4">Productos</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Químicos Industriales</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Cosméticos</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Productos de Limpieza</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Nuevos Lanzamientos</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Ofertas Especiales</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <h4 class="text-lg font-bold mb-4">Información de Contacto</h4>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt text-green-400 mt-1 mr-3"></i>
                            <span class="text-gray-400">Dirreccion</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone text-green-400 mr-3"></i>
                            <span class="text-gray-400">3134390766</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone text-green-400 mr-3"></i>
                            <span class="text-gray-400">3103281048</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope text-green-400 mr-3"></i>
                            <span class="text-gray-400">dorisriveraq@gmail.com</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-clock text-green-400 mr-3"></i>
                            <span class="text-gray-400">Lun-Vie: 9:00 - 18:00</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 mb-4 md:mb-0">© 2023 CleanChem. Todos los derechos reservados.</p>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white transition">Política de Privacidad</a>
                    <a href="#" class="text-gray-400 hover:text-white transition">Términos de Servicio</a>
                    <a href="#" class="text-gray-400 hover:text-white transition">Mapa del Sitio</a>
                </div>
            </div>
        </div>
    </footer>

</body>
</html>